import{a as E,b as _,c as N,d as V,e as k,f as I,g as D,h as P,i as j}from"./chunk-LWO43TQW.js";import{C as p,I as c,K as g,O as i,P as e,Q as f,R as C,T as b,U as S,X as x,Y as n,Z as F,ia as R,j as m,l as d,m as u,pa as y,s as v,sa as T,ta as q,v as s,y as w}from"./chunk-BSAZ2NN7.js";import"./chunk-ECBXVGWK.js";function z(r,t){r&1&&(i(0,"div",7),n(1," Pass proper email adress. "),e())}function L(r,t){if(r&1&&(i(0,"span",12),n(1),e()),r&2){let a=S();s(),F(a.registration.error())}}function M(r,t){r&1&&(i(0,"span",13),n(1,"Nothing"),e())}var h=class r{authService=m(q);fb=m(P);router=m(y);register=v(null);registration=T({request:this.register,loader:t=>this.authService.register(t.request)});registerForm=this.fb.nonNullable.group({email:["grzegorzkolaty@gmail.com",_.required],password:["Poszkole1",_.required]});constructor(){R(()=>{!!this.authService.user()&&this.router.navigate(["auth","profile"])})}onSubmit(){let t=this.registerForm.getRawValue();this.registerForm.valid&&this.register.set(t)}onSubmitResetPassword(){let t=this.registerForm;if(this.registerForm.valid){let a=t.getRawValue();this.authService.resetPassword(a.email).subscribe(o=>console.log(o))}}static \u0275fac=function(a){return new(a||r)};static \u0275cmp=w({type:r,selectors:[["app-register"]],decls:20,vars:4,consts:[["form","ngForm"],[1,"brown__cat__background","p-5","mt-5"],[1,"mx-auto","col-xl-4","p-lg-5","p-4","rounded","glass__form","fw-semibold",3,"ngSubmit","formGroup"],[1,"mb-3","text-center","fw-bold"],[1,"mb-3"],["for","emailInput",1,"form-label"],["formControlName","email","placeholder","email","type","email","id","emailInput","aria-describedby","emailHelp",1,"form-control","form-control-lg"],["id","emailHelp",1,"form-text","text-danger"],["for","passwordInput",1,"form-label"],["formControlName","password","type","password","id","passwordInput","placeholder","password",1,"form-control","form-control-lg"],["type","submit",1,"btn","btn-lg","btn-dark","w-100","mb-3",3,"disabled"],["type","submit",1,"btn","btn-lg","btn-dark","w-100","mb-3",3,"click"],[1,"text-danger"],[1,"visually-hidden"]],template:function(a,o){if(a&1){let l=C();i(0,"section",1)(1,"form",2,0),b("ngSubmit",function(){return d(l),u(o.onSubmit())}),i(3,"h3",3),n(4,"Zarejestruj si\u0119"),e(),i(5,"div",4)(6,"label",5),n(7," Email address "),e(),f(8,"input",6),p(9,z,2,0,"div",7),e(),i(10,"div",4)(11,"label",8),n(12,"Password"),e(),f(13,"input",9),e(),i(14,"button",10),n(15," Zarejestruj "),e(),i(16,"button",11),b("click",function(){return d(l),u(o.onSubmitResetPassword())}),n(17," Restetuj has\u0142o "),e(),p(18,L,2,1,"span",12)(19,M,2,0,"span",13),e()()}if(a&2){let l=x(2);s(),c("formGroup",o.registerForm),s(8),g((o.registerForm.controls.email.dirty||l.submitted)&&!o.registerForm.controls.email.valid?9:-1),s(5),c("disabled",o.registration.isLoading()),s(4),g(o.registration.error()&&l.submitted?18:19)}},dependencies:[j,k,E,N,V,I,D],encapsulation:2,changeDetection:0})};export{h as default};
